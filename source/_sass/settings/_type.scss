@use 'fonts' as *;
@use 'sass:math';

$spacer: 1em;

// Base size ~20px, assuming 16px default browser size.
$base-size: 1.5rem;

// Typefaces available.
$serif: 'Lora', system-ui, serif;
$sans-serif: 'Public Sans', system-ui, sans-serif;

:root {
  --spacer: #{$spacer};

  --font-size: #{$base-size};
  --font-weight: 450;
  --font-body: #{$serif};
  --font-heading: #{$sans-serif};

  // Calculate a relative line height.
  // Jes√∫s Ricarte
  // https://kittygiraudel.com/2020/05/18/using-calc-to-figure-out-optimal-line-height/
  --line-height: calc(2.5px + 2.5ex + 2.5px);
}



/*
 * Main content text.
 */

:is(
  p,
  dl
),
:is(
  ol:not([class]):not([role]),
  ul:not([class]):not([role])
) {
  margin-bottom: var(--spacer);
}

:is(li, dt, dd) {
  margin-bottom: calc( var(--spacer) / 2 );
}

/*
 * Headings.
 */

:is(
  h1, h2, h3, h4, h5, h6,
  .h1, .h2, .h3, .h4, .h5, .h6
) {
  margin-bottom: 0.65em;
  line-height: var(--line-height);
  font-weight: var(--heading-font-weight, 750);
  font-family: var(--font-heading);
  overflow-wrap: break-word;
  hyphens: auto;
}

/*
 * Headings.
 * Setting fluid type scale.
 */

// Minor third ratio.
$type-scale: 1.2;

// Heading levels.
$headings: 5, 4, 3, 2, 1;
$heading-size: $base-size;

@each $heading in $headings {
  // Apply the heading size for this level based on ratio.
  $heading-size: $heading-size * $type-scale;

  h#{$heading }, .h#{$heading } {
    font-size: #{$heading-size};
  }
}
